{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import TestContext from\"../../../Context/testContext\";import Trophi from\"../../../Images/tournament.png\";import PhotoGame from\"../../../Images/icon-wz-white.png\";import Valorant from\"../../../Images/valorant.png\";import Apex from\"../../../Images/Apex.png\";import Dota from\"../../../Images/dotalogo.png\";import Fifa from\"../../../Images/whiteFifa.png\";import Swal from\"sweetalert2\";import\"sweetalert2/src/sweetalert2.scss\";import ReactDOM from'react-dom';import Countdown from'react-countdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var ActiveTour=function ActiveTour(){var Call=\"Call of Duty:Warzone\";var Dota2=\"Dota 2\";var FiFa23=\"FIFA 23\";var ApexN=\"Apex\";var ValorantN=\"Valorant\";var testContext=useContext(TestContext);var GetRegisterTournment=testContext.GetRegisterTournment,registerForThisGameData=testContext.registerForThisGameData,startTournmentData=testContext.startTournmentData,StartTournment=testContext.StartTournment,SetStartTournament=testContext.SetStartTournament,err=testContext.err;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),UserOfGameId=_useState2[0],setUserOfGameId=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),TournamentId=_useState4[0],setTournamentId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),showMessage=_useState6[0],setShowMessage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),IdGame=_useState8[0],setIdGame=_useState8[1];useEffect(function(){setIdGame(TournamentId);GetRegisterTournment();},[]);useEffectSkipFirst(function(){if(startTournmentData){GetRegisterTournment();}},[startTournmentData]);var SendInfo=function SendInfo(tourandgamid){var data=tourandgamid.split(\"-\");var gameData={};gameData.TournamentId=parseInt(data[0]);gameData.UserOfGameId=parseInt(data[1]);// console.log(\"start\", gameData);\nStartTournment(gameData);};useEffectSkipFirst(function(){if(startTournmentData){if(startTournmentData.userError){Swal.fire(\"Somthing is wrong\",\"Please check your info\",\"warning\");}else{setShowMessage(true);SetStartTournament(null);}}},[startTournmentData]);useEffectSkipFirst(function(){if(showMessage){Swal.fire({position:\"center\",icon:\"success\",title:\"your tournament has been started\",timer:2000});setShowMessage(false);}},[showMessage]);var NamePlatformById=function NamePlatformById(id){switch(id){case 1:return\"Playstation\";break;case 2:return\"PC\";break;case 3:return\"Xbox\";break;default:break;}};var CountTime=function CountTime(){};return/*#__PURE__*/_jsxs(\"div\",{className:\"ActiveTour\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Active Tournaments\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"Tournaments i'm playing now\"})]}),registerForThisGameData?registerForThisGameData.length>0?registerForThisGameData.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"AcceptedTour\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"photoGame\",children:/*#__PURE__*/_jsx(\"img\",{src:item.GameId==1?PhotoGame:item.GameId==2?Dota:item.GameId==3?Fifa:item.GameId==4?Valorant:item.GameId==5?Apex:null,alt:\"game\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemGame\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.Title}),/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spanStyle\",children:item.TournamentId}),\" | \",/*#__PURE__*/_jsxs(\"span\",{className:\"spanStyle\",children:[\" \",NamePlatformById(item.ModeId)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btnStart\",children:!item.IsStarted?/*#__PURE__*/_jsx(\"button\",{id:item.TournamentId+\"-\"+item.UserOfGameId,onClick:function onClick(e){SendInfo(e.target.id);},children:\"START\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"Start\",children:\"STARTED\"}),/*#__PURE__*/_jsxs(\"h4\",{className:\"remind\",children:[/*#__PURE__*/_jsx(Countdown,{date:Date.now()+100000}),\" Reminded\"]}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"prize\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Prize Pool\"}),/*#__PURE__*/_jsxs(\"h4\",{children:[item.Prize,\"$\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prize\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"End Time\"}),/*#__PURE__*/_jsx(\"h4\",{children:item.EndDate})]})]});}):null:/*#__PURE__*/_jsxs(\"div\",{className:\"AboutInfo\",children:[/*#__PURE__*/_jsx(\"img\",{src:Trophi,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"No Current Tournaments\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"You Currently dont't have any Tournaments\"})]})]});};export default ActiveTour;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","TestContext","Trophi","PhotoGame","Valorant","Apex","Dota","Fifa","Swal","ReactDOM","Countdown","useEffectSkipFirst","fn","arr","isFirst","current","ActiveTour","Call","Dota2","FiFa23","ApexN","ValorantN","testContext","GetRegisterTournment","registerForThisGameData","startTournmentData","StartTournment","SetStartTournament","err","UserOfGameId","setUserOfGameId","TournamentId","setTournamentId","showMessage","setShowMessage","IdGame","setIdGame","SendInfo","tourandgamid","data","split","gameData","parseInt","userError","fire","position","icon","title","timer","NamePlatformById","id","CountTime","length","map","item","GameId","Title","ModeId","IsStarted","e","target","Date","now","Prize","EndDate"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/AdminPanel/Itemas/ActiveTour.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport TestContext from \"../../../Context/testContext\";\r\nimport Trophi from \"../../../Images/tournament.png\";\r\nimport PhotoGame from \"../../../Images/icon-wz-white.png\";\r\nimport Valorant from \"../../../Images/valorant.png\";\r\nimport Apex from \"../../../Images/Apex.png\";\r\nimport Dota from \"../../../Images/dotalogo.png\";\r\nimport Fifa from \"../../../Images/whiteFifa.png\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"sweetalert2/src/sweetalert2.scss\";\r\nimport ReactDOM from 'react-dom';\r\nimport Countdown from 'react-countdown';\r\n\r\nfunction useEffectSkipFirst(fn, arr) {\r\n  const isFirst = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirst.current) {\r\n      isFirst.current = false;\r\n      return;\r\n    }\r\n    fn();\r\n  }, arr);\r\n}\r\n\r\nconst ActiveTour = () => {\r\n  const Call = \"Call of Duty:Warzone\";\r\n  const Dota2 = \"Dota 2\";\r\n  const FiFa23 = \"FIFA 23\";\r\n  const ApexN = \"Apex\";\r\n  const ValorantN = \"Valorant\";\r\n\r\n  const testContext = useContext(TestContext);\r\n  const {\r\n    GetRegisterTournment,\r\n    registerForThisGameData,\r\n    startTournmentData,\r\n    StartTournment,\r\n    SetStartTournament,\r\n    err,\r\n  } = testContext;\r\n  const [UserOfGameId, setUserOfGameId] = useState(null);\r\n  const [TournamentId, setTournamentId] = useState(null);\r\n  const [showMessage, setShowMessage] = useState(null);\r\n  const [IdGame, setIdGame] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIdGame(TournamentId);\r\n    GetRegisterTournment();\r\n  }, []);\r\n\r\n  useEffectSkipFirst(() => {\r\n    if (startTournmentData) {\r\n      GetRegisterTournment();\r\n    }\r\n  }, [startTournmentData]);\r\n\r\n  const SendInfo = (tourandgamid) => {\r\n    let data = tourandgamid.split(\"-\");\r\n\r\n    let gameData = {};\r\n    gameData.TournamentId = parseInt(data[0]);\r\n    gameData.UserOfGameId = parseInt(data[1]);\r\n\r\n    // console.log(\"start\", gameData);\r\n\r\n    StartTournment(gameData);\r\n  };\r\n\r\n  useEffectSkipFirst(() => {\r\n    if (startTournmentData) {\r\n      if (startTournmentData.userError) {\r\n        Swal.fire(\"Somthing is wrong\", \"Please check your info\", \"warning\");\r\n      }\r\n  \r\n      else {\r\n        setShowMessage(true);\r\n        SetStartTournament(null);\r\n      }\r\n    }\r\n  }, [startTournmentData]);\r\n\r\n  useEffectSkipFirst(() => {\r\n    if (showMessage) {\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"success\",\r\n        title: \"your tournament has been started\",\r\n        timer: 2000,\r\n      });\r\n      setShowMessage(false);\r\n    }\r\n  }, [showMessage]);\r\n\r\n  const NamePlatformById = (id) => {\r\n    switch (id) {\r\n      case 1:\r\n        return \"Playstation\";\r\n        break;\r\n      case 2:\r\n        return \"PC\";\r\n        break;\r\n      case 3:\r\n        return \"Xbox\";\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const CountTime =()=>{\r\n    \r\n  }\r\n\r\n  return (\r\n    <div className=\"ActiveTour\">\r\n      <div className=\"title\">\r\n        <h4>Active Tournaments</h4>\r\n        <h6>Tournaments i'm playing now</h6>\r\n      </div>\r\n\r\n      {registerForThisGameData ? (\r\n        registerForThisGameData.length > 0 ? (\r\n          registerForThisGameData.map((item) => (\r\n            <div className=\"AcceptedTour\">\r\n              <div className=\"photoGame\">\r\n                <img\r\n                  src={\r\n                    item.GameId == 1\r\n                      ? PhotoGame\r\n                      : item.GameId == 2\r\n                      ? Dota\r\n                      : item.GameId == 3\r\n                      ? Fifa\r\n                      : item.GameId == 4\r\n                      ? Valorant\r\n                      : item.GameId == 5\r\n                      ? Apex\r\n                      : null\r\n                  }\r\n                  alt=\"game\"\r\n                />\r\n              </div>\r\n              <div className=\"itemGame\">\r\n                <h4>{item.Title}</h4>\r\n                <h6>\r\n                  <span className=\"spanStyle\">{item.TournamentId}</span> | <span className=\"spanStyle\"> {NamePlatformById(item.ModeId)}</span>\r\n                 \r\n                </h6>\r\n              </div>\r\n              <div className=\"btnStart\">\r\n                {!item.IsStarted ? (\r\n                  <button\r\n                    id={item.TournamentId + \"-\" + item.UserOfGameId}\r\n                    onClick={(e) => {\r\n                      SendInfo(e.target.id);\r\n                    }}\r\n                  >\r\n                    START\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                  <h4 className=\"Start\">STARTED</h4>\r\n            <h4 className=\"remind\"><Countdown date={Date.now() + 100000} /> Reminded</h4> </>\r\n                )}\r\n                {/* <h4 className=\"Start\">STARTED</h4>\r\n            <h4 className=\"remind\">110 Min Reminded</h4> */}\r\n              </div>\r\n              <div className=\"prize\">\r\n                <h4>Prize Pool</h4>\r\n                <h4>{item.Prize}$</h4>\r\n              </div>\r\n              <div className=\"prize\">\r\n                <h4>End Time</h4>\r\n                <h4>{item.EndDate}</h4>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : null\r\n      ) : (\r\n        <div className=\"AboutInfo\">\r\n          <img src={Trophi} alt=\"\" />\r\n          <h4>No Current Tournaments</h4>\r\n          <h6>You Currently dont't have any Tournaments</h6>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActiveTour;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}