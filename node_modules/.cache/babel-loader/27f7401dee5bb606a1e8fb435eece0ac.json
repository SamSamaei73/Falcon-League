{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import Coin from\"../../../Images/coins.png\";import TestContext from\"../../../Context/testContext\";import AuthContext from\"../../../Context/Auth/authContext\";import Swal from\"sweetalert2\";import\"sweetalert2/src/sweetalert2.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var OverView=function OverView(_ref){var Id=_ref.Id;var testContext=useContext(TestContext);var authContext=useContext(AuthContext);var user=authContext.user,login=authContext.login,isAuthenticated=authContext.isAuthenticated,logout=authContext.logout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),IdGame=_useState2[0],setIdGame=_useState2[1];var GetActiveTournaments=testContext.GetActiveTournaments,activeTournamentData=testContext.activeTournamentData,registerGameUserData=testContext.registerGameUserData,RegisterUserForGame=testContext.RegisterUserForGame,SetRegisterTournament=testContext.SetRegisterTournament,GetTournamentById=testContext.GetTournamentById,tournamentByIdData=testContext.tournamentByIdData,err=testContext.err;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),GameId=_useState4[0],setGameId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),showMessage=_useState6[0],setShowMessage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),TournamentData=_useState8[0],setTournamentData=_useState8[1];useEffect(function(){setIdGame(Id);GetTournamentById(Id);},[]);var SendInfo=function SendInfo(id){var gameData={};gameData.GameId=TournamentData[0].GameId;gameData.TournamentId=parseInt(id);RegisterUserForGame(gameData);// console.log(\"Test\", gameData);\n};useEffectSkipFirst(function(){if(registerGameUserData){console.log(\"registerdata\",registerGameUserData);if(registerGameUserData.userError){Swal.fire(\"you dont have userId\",\"you must Add your Game id in My profile page\",\"warning\");SetRegisterTournament(null);}else if(registerGameUserData.registeredError){Swal.fire({title:\"your user has been registered\",icon:\"warning\"});SetRegisterTournament(null);}else{setShowMessage(true);SetRegisterTournament(null);}}},[registerGameUserData]);useEffectSkipFirst(function(){if(showMessage){Swal.fire({position:\"center\",icon:\"success\",title:\"your tournment has been added\",timer:2000});setShowMessage(false);}},[showMessage]);useEffectSkipFirst(function(){if(tournamentByIdData){var Data=[];Data.push(tournamentByIdData);var newData=Data.map(function(item){var newItem={};newItem.Title=item.Title;newItem.id=item.id;newItem.StartDate=item.StartDate;newItem.EndDate=item.EndDate;newItem.Prize=item.Prize;newItem.EntryFee=item.EntryFee;newItem.Minutes=item.Minutes;newItem.About=item.About;newItem.GameId=item.GameId;newItem.ModeId=GameMode(item.ModeId);return newItem;});setTournamentData(newData);}},[tournamentByIdData]);var GameMode=function GameMode(id){switch(id){case 1:return\"SOLO\";break;case 2:return\"Team\";break;default:break;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"OverView\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"boxDetailes\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tournament Details\"}),TournamentData.map(function(item,id){return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Mode\"}),/*#__PURE__*/_jsx(\"h5\",{children:item.ModeId})]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Date\"}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.StartDate,\" - \",item.EndDate]})]})}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Entry Fee\"}),/*#__PURE__*/_jsxs(\"h5\",{children:[item.EntryFee,\" \",/*#__PURE__*/_jsx(\"img\",{src:Coin,alt:\"coin\"})]})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Duration (Per Hour)\"}),/*#__PURE__*/_jsx(\"h5\",{children:item.Minutes})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"prize\",children:\"Prize\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"prize\",children:[item.Prize,\" $\"]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"h5\",{}),/*#__PURE__*/_jsx(\"h5\",{})]})})]})]},item.id);})]}),TournamentData.map(function(item){return/*#__PURE__*/_jsx(\"button\",{className:\"btnJoin\",id:item.id,onClick:function onClick(e){SendInfo(e.target.id);},children:\"JOIN TOURNAMENT\"});}),/*#__PURE__*/_jsx(\"h5\",{className:\"note\",children:\"Note\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxNote\",children:[TournamentData.map(function(item,id){return/*#__PURE__*/_jsx(\"textarea\",{value:item.About,name:\"\",id:\"\",cols:\"30\",rows:\"10\",readOnly:true});}),/*#__PURE__*/_jsx(\"button\",{className:\"BtnDis\",children:\"JOIN FLC DISCORD\"})]})]});};export default OverView;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","Coin","TestContext","AuthContext","Swal","useEffectSkipFirst","fn","arr","isFirst","current","OverView","Id","testContext","authContext","user","login","isAuthenticated","logout","IdGame","setIdGame","GetActiveTournaments","activeTournamentData","registerGameUserData","RegisterUserForGame","SetRegisterTournament","GetTournamentById","tournamentByIdData","err","GameId","setGameId","showMessage","setShowMessage","TournamentData","setTournamentData","SendInfo","id","gameData","TournamentId","parseInt","console","log","userError","fire","registeredError","title","icon","position","timer","Data","push","newData","map","item","newItem","Title","StartDate","EndDate","Prize","EntryFee","Minutes","About","ModeId","GameMode","e","target"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/ResultGames/Items/OverView.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\nimport Coin from \"../../../Images/coins.png\";\nimport TestContext from \"../../../Context/testContext\";\nimport AuthContext from \"../../../Context/Auth/authContext\";\nimport Swal from \"sweetalert2\";\nimport \"sweetalert2/src/sweetalert2.scss\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n    fn();\n  }, arr);\n}\n\nconst OverView = ({ Id }) => {\n  const testContext = useContext(TestContext);\n  const authContext = useContext(AuthContext);\n  const { user, login, isAuthenticated, logout } = authContext;\n\n  const [IdGame, setIdGame] = useState(null);\n  const {\n    GetActiveTournaments,\n    activeTournamentData,\n    registerGameUserData,\n    RegisterUserForGame,\n    SetRegisterTournament,\n    GetTournamentById,\n    tournamentByIdData,\n    err,\n  } = testContext;\n  const [GameId, setGameId] = useState(null);\n  const [showMessage, setShowMessage] = useState(null);\n  const [TournamentData, setTournamentData] = useState([]);\n\n  useEffect(() => {\n    setIdGame(Id);\n    GetTournamentById(Id);\n  }, []);\n\n  const SendInfo = (id) => {\n    let gameData = {};\n    gameData.GameId = TournamentData[0].GameId;\n    gameData.TournamentId = parseInt(id);\n\n    RegisterUserForGame(gameData);\n    // console.log(\"Test\", gameData);\n  };\n\n  useEffectSkipFirst(() => {\n    if (registerGameUserData) {\n      console.log(\"registerdata\", registerGameUserData);\n      if (registerGameUserData.userError) {\n        Swal.fire(\n          \"you dont have userId\",\n          \"you must Add your Game id in My profile page\",\n          \"warning\"\n        );\n        SetRegisterTournament(null);\n      } else if (registerGameUserData.registeredError) {\n        Swal.fire({ title: \"your user has been registered\", icon: \"warning\" });\n        SetRegisterTournament(null);\n      } else {\n        setShowMessage(true);\n        SetRegisterTournament(null);\n      }\n    }\n  }, [registerGameUserData]);\n\n  useEffectSkipFirst(() => {\n    if (showMessage) {\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"your tournment has been added\",\n        timer: 2000,\n      });\n      setShowMessage(false);\n    }\n  }, [showMessage]);\n\n  useEffectSkipFirst(() => {\n    if (tournamentByIdData) {\n      let Data = [];\n      Data.push(tournamentByIdData);\n      let newData = Data.map((item) => {\n        let newItem = {};\n        newItem.Title = item.Title;\n        newItem.id = item.id;\n        newItem.StartDate = item.StartDate;\n        newItem.EndDate = item.EndDate;\n        newItem.Prize = item.Prize;\n        newItem.EntryFee = item.EntryFee;\n        newItem.Minutes = item.Minutes;\n        newItem.About = item.About;\n        newItem.GameId = item.GameId;\n        newItem.ModeId = GameMode(item.ModeId);\n\n        return newItem;\n      });\n      setTournamentData(newData);\n    }\n  }, [tournamentByIdData]);\n\n  const GameMode = (id) => {\n    switch (id) {\n      case 1:\n        return \"SOLO\";\n        break;\n      case 2:\n        return \"Team\";\n        break;\n\n      default:\n        break;\n    }\n  };\n  return (\n    <div className=\"OverView\">\n      <div className=\"boxDetailes\">\n        <h3>Tournament Details</h3>\n        {TournamentData.map((item, id) => (\n          <table key={item.id}>\n            <tr>\n              <th>\n                <div className=\"box\">\n                  <h5>Mode</h5>\n                  <h5>{item.ModeId}</h5>\n                </div>\n              </th>\n              <th>\n                <div className=\"box\">\n                  <h5>Date</h5>\n                  <h5>\n                    {item.StartDate} - {item.EndDate}\n                  </h5>\n                </div>\n              </th>\n              <th>\n                <div className=\"box\">\n                  <h5>Entry Fee</h5>\n                  <h5>\n                    {item.EntryFee} <img src={Coin} alt=\"coin\" />\n                  </h5>\n                </div>\n              </th>\n            </tr>\n            <tr>\n              <td>\n                <div className=\"box\">\n                  <h5>Duration (Per Hour)</h5>\n                  <h5>{item.Minutes}</h5>\n                </div>\n              </td>\n              <td>\n                <div className=\"box\">\n                  <h5 className=\"prize\">Prize</h5>\n                  <h5 className=\"prize\">{item.Prize} $</h5>\n                </div>\n              </td>\n              <td>\n                <div className=\"box\">\n                  <h5></h5>\n                  <h5></h5>\n                </div>\n              </td>\n            </tr>\n          </table>\n        ))}\n      </div>\n      {TournamentData.map((item) => (\n        <button\n          className=\"btnJoin\"\n          id={item.id}\n          onClick={(e) => {\n            SendInfo(e.target.id);\n          }}\n        >\n          JOIN TOURNAMENT\n        </button>\n      ))}\n      <h5 className=\"note\">Note</h5>\n      <div className=\"boxNote\">\n        {TournamentData.map((item, id) => (\n          <textarea\n            value={item.About}\n            name=\"\"\n            id=\"\"\n            cols=\"30\"\n            rows=\"10\"\n            readOnly\n          ></textarea>\n        ))}\n        <button className=\"BtnDis\">JOIN FLC DISCORD</button>\n      </div>\n    </div>\n  );\n};\n\nexport default OverView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}