{"ast":null,"code":"var _jsxFileName = \"/Users/samsamaei/Documents/Projects/falcon/src/Components/Items/ConfirmForget.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useRef, useEffect, useState } from \"react\";\nimport HeaderGame from \"../Items/HeaderGame\";\nimport Pass from '../../Images/password.png';\nimport TestContext from \"../../Context/testContext\";\nimport { useLocation, useParams, useNavigate } from \"react-router-dom\";\nimport PopupChangePass from '../Items/PopupChangePass';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  _s();\n\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n\n    fn();\n  }, arr);\n}\n\n_s(useEffectSkipFirst, \"x0DIufxRLPW/5DynbDxfl2fdtNU=\");\n\nconst ConfirmForget = () => {\n  _s2();\n\n  const navigate = useNavigate();\n  const [password, setPassword] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [confirmPasswrod, setConfirmpasswrod] = useState(null);\n  const [showErrorForPass, setShowErrorForPass] = useState(null);\n  const [showForgetPopup, setShowForgetPopup] = useState(null);\n  const [showError, setShowError] = useState(null);\n  const [showError8, setShowError8] = useState(null);\n  const testContext = useContext(TestContext);\n  const {\n    UpdatePasswordSpecificUser,\n    updatePasswordSpecificUserData\n  } = testContext;\n  const search = useLocation().search;\n  let {\n    Id\n  } = useParams();\n  useEffect(() => {\n    const userId = new URLSearchParams(search).get(\"pc\");\n    setUserId(userId);\n  }, []);\n  useEffectSkipFirst(() => {\n    if (updatePasswordSpecificUserData) {\n      navigate(\"/Login\");\n    }\n  }, [updatePasswordSpecificUserData]);\n  useEffectSkipFirst(() => {\n    if (confirmPasswrod === password) {\n      setShowErrorForPass(false);\n    } else {\n      setShowErrorForPass(true);\n    }\n  }, [confirmPasswrod]);\n\n  const sendData = () => {\n    let newUser = {};\n    newUser.Password = password;\n    newUser.id = userId;\n\n    if (password) {\n      if (userId && password.length > 7 && password === confirmPasswrod) {\n        UpdatePasswordSpecificUser(newUser);\n      } else {\n        if (password !== confirmPasswrod) {\n          setShowErrorForPass(true);\n        } else {\n          setShowError8(true);\n        }\n      }\n    } else {\n      if (password !== confirmPasswrod) {\n        setShowErrorForPass(true);\n      } else {\n        setShowError(true);\n      }\n    }\n  };\n\n  const showPopup = () => {\n    setShowForgetPopup(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ConfirmForget\",\n    children: [showForgetPopup ? /*#__PURE__*/_jsxDEV(PopupChangePass, {\n      showPopup: showPopup\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 32\n    }, this) : null, /*#__PURE__*/_jsxDEV(HeaderGame, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forgetBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forgetImg\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Pass,\n          alt: \"Pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btnBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Change your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Enter your new password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          vlaue: password,\n          onChange: e => {\n            setShowError(false);\n            setShowErrorForPass(false);\n            setPassword(e.target.value);\n          },\n          type: \"password\",\n          placeholder: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          vlaue: confirmPasswrod,\n          onChange: e => {\n            setShowError(false);\n            setShowErrorForPass(false);\n            setConfirmpasswrod(e.target.value);\n          },\n          type: \"password\",\n          placeholder: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendData,\n          children: \"CHANGE PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), showError8 ? /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"labelError\",\n          children: \"Note: Your password should be more than 8 character\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this) : null, showError ? /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"labelError\",\n          children: \"Note: All of the inputs should have value\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this) : null, showErrorForPass ? /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"labelError\",\n          children: \"Note: Your password and confirm password are not equal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 33\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ConfirmForget, \"MHL2ps5GAxmDL3yxYYGIW3QUSxo=\", false, function () {\n  return [useNavigate, useLocation, useParams, useEffectSkipFirst, useEffectSkipFirst];\n});\n\n_c = ConfirmForget;\nexport default ConfirmForget;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfirmForget\");","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","HeaderGame","Pass","TestContext","useLocation","useParams","useNavigate","PopupChangePass","useEffectSkipFirst","fn","arr","isFirst","current","ConfirmForget","navigate","password","setPassword","userId","setUserId","confirmPasswrod","setConfirmpasswrod","showErrorForPass","setShowErrorForPass","showForgetPopup","setShowForgetPopup","showError","setShowError","showError8","setShowError8","testContext","UpdatePasswordSpecificUser","updatePasswordSpecificUserData","search","Id","URLSearchParams","get","sendData","newUser","Password","id","length","showPopup","e","target","value"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/Items/ConfirmForget.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport HeaderGame from \"../Items/HeaderGame\";\r\nimport Pass from '../../Images/password.png';\r\nimport TestContext from \"../../Context/testContext\";\r\nimport { useLocation, useParams, useNavigate } from \"react-router-dom\";\r\nimport PopupChangePass from '../Items/PopupChangePass';\r\nfunction useEffectSkipFirst(fn, arr) {\r\n  const isFirst = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirst.current) {\r\n      isFirst.current = false;\r\n      return;\r\n    }\r\n    fn();\r\n  }, arr);\r\n}\r\nconst ConfirmForget = () => {\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [confirmPasswrod, setConfirmpasswrod] = useState(null);\r\n  const [showErrorForPass, setShowErrorForPass] = useState(null);\r\n  const [showForgetPopup, setShowForgetPopup] = useState(null);\r\n  const [showError, setShowError] = useState(null);\r\n  const [showError8, setShowError8] = useState(null);\r\n  const testContext = useContext(TestContext);\r\n  const { UpdatePasswordSpecificUser, updatePasswordSpecificUserData } = testContext;\r\n  const search = useLocation().search;\r\n  let { Id } = useParams();\r\n  useEffect(() => {\r\n    const userId = new URLSearchParams(search).get(\"pc\");\r\n    setUserId(userId);   \r\n  }, []);\r\n  useEffectSkipFirst(() => {\r\n    if (updatePasswordSpecificUserData) {\r\n      navigate(\"/Login\");\r\n    }\r\n  }, [updatePasswordSpecificUserData]);\r\n  useEffectSkipFirst(() => {\r\n    if (confirmPasswrod === password) {\r\n      setShowErrorForPass(false);\r\n    } else {\r\n      setShowErrorForPass(true);\r\n    }\r\n  }, [confirmPasswrod]);\r\n\r\n  const sendData = () => {\r\n    let newUser = {};   \r\n    newUser.Password = password;\r\n    newUser.id = userId;   \r\n    if (\r\n      password\r\n    ) {\r\n      if (\r\n        userId &&\r\n        password.length > 7 &&\r\n        password === confirmPasswrod\r\n      ) {\r\n        UpdatePasswordSpecificUser(newUser);\r\n      }else {\r\n        if ( password !== confirmPasswrod  ) {\r\n         setShowErrorForPass(true);\r\n        }     \r\n        else{\r\n          setShowError8(true);\r\n        }\r\n      }\r\n    } else {\r\n      if ( password !== confirmPasswrod  ) {\r\n       setShowErrorForPass(true);\r\n      }     \r\n      else{\r\n        setShowError(true);\r\n      }\r\n    }\r\n  };\r\n  const showPopup=()=>{\r\n    setShowForgetPopup(false);\r\n  }\r\n  return (\r\n    <div className='ConfirmForget'>\r\n             {showForgetPopup? <PopupChangePass showPopup={showPopup}/>:null}\r\n        <HeaderGame/>\r\n        <div className=\"forgetBox\">\r\n            <div className=\"forgetImg\">\r\n                <img src={Pass} alt=\"Pass\" />\r\n            </div>\r\n            <div className=\"btnBox\">\r\n                <h1>Change your Password</h1>\r\n                <h4>Enter your new password</h4>\r\n                <input vlaue={password} onChange={(e)=>{\r\n                                   setShowError(false); setShowErrorForPass(false);\r\n                                   setPassword(e.target.value);}} type=\"password\" placeholder='New Password' />\r\n                <input vlaue={confirmPasswrod} onChange={(e)=>{\r\n                  setShowError(false); setShowErrorForPass(false);\r\n                  setConfirmpasswrod(e.target.value)}} type=\"password\" placeholder='Confirm Password' />\r\n                <button onClick={sendData}>CHANGE PASSWORD</button>\r\n                {\r\n              showError8?\r\n            <label className=\"labelError\">\r\n              Note: Your password should be more than 8 character\r\n            </label>:null}\r\n                {\r\n              showError?\r\n            <label className=\"labelError\">\r\n              Note: All of the inputs should have value\r\n            </label>:null}\r\n            {\r\n              showErrorForPass? <label className=\"labelError\">\r\n              Note: Your password and confirm password are not equal\r\n            </label>:null}\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ConfirmForget"],"mappings":"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"},"metadata":{},"sourceType":"module"}