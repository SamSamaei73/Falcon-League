{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import HeaderGame from\"../Items/HeaderGame\";import Pass from'../../Images/password.png';import TestContext from\"../../Context/testContext\";import{useLocation,useParams,useNavigate}from\"react-router-dom\";import PopupChangePass from'../Items/PopupChangePass';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var ConfirmForget=function ConfirmForget(){var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),confirmPasswrod=_useState6[0],setConfirmpasswrod=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),showErrorForPass=_useState8[0],setShowErrorForPass=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),showForgetPopup=_useState10[0],setShowForgetPopup=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),showError=_useState12[0],setShowError=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),showError8=_useState14[0],setShowError8=_useState14[1];var testContext=useContext(TestContext);var UpdatePasswordSpecificUser=testContext.UpdatePasswordSpecificUser,updatePasswordSpecificUserData=testContext.updatePasswordSpecificUserData;var search=useLocation().search;var _useParams=useParams(),Id=_useParams.Id;useEffect(function(){var userId=new URLSearchParams(search).get(\"pc\");setUserId(userId);},[]);useEffectSkipFirst(function(){if(updatePasswordSpecificUserData){navigate(\"/Login\");}},[updatePasswordSpecificUserData]);useEffectSkipFirst(function(){if(confirmPasswrod===password){setShowErrorForPass(false);}else{setShowErrorForPass(true);}},[confirmPasswrod]);var sendData=function sendData(){var newUser={};newUser.Password=password;newUser.id=userId;if(password){if(userId&&password.length>7&&password===confirmPasswrod){UpdatePasswordSpecificUser(newUser);}else{if(password!==confirmPasswrod){setShowErrorForPass(true);}else{setShowError8(true);}}}else{if(password!==confirmPasswrod){setShowErrorForPass(true);}else{setShowError(true);}}};var showPopup=function showPopup(){setShowForgetPopup(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ConfirmForget\",children:[showForgetPopup?/*#__PURE__*/_jsx(PopupChangePass,{showPopup:showPopup}):null,/*#__PURE__*/_jsx(HeaderGame,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgetBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"forgetImg\",children:/*#__PURE__*/_jsx(\"img\",{src:Pass,alt:\"Pass\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnBox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Change your Password\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Enter your new password\"}),/*#__PURE__*/_jsx(\"input\",{vlaue:password,onChange:function onChange(e){setShowError(false);setShowErrorForPass(false);setPassword(e.target.value);},type:\"password\",placeholder:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{vlaue:confirmPasswrod,onChange:function onChange(e){setShowError(false);setShowErrorForPass(false);setConfirmpasswrod(e.target.value);},type:\"password\",placeholder:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendData,children:\"CHANGE PASSWORD\"}),showError8?/*#__PURE__*/_jsx(\"label\",{className:\"labelError\",children:\"Note: Your password should be more than 8 character\"}):null,showError?/*#__PURE__*/_jsx(\"label\",{className:\"labelError\",children:\"Note: All of the inputs should have value\"}):null,showErrorForPass?/*#__PURE__*/_jsx(\"label\",{className:\"labelError\",children:\"Note: Your password and confirm password are not equal\"}):null]})]})]});};export default ConfirmForget;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","HeaderGame","Pass","TestContext","useLocation","useParams","useNavigate","PopupChangePass","useEffectSkipFirst","fn","arr","isFirst","current","ConfirmForget","navigate","password","setPassword","userId","setUserId","confirmPasswrod","setConfirmpasswrod","showErrorForPass","setShowErrorForPass","showForgetPopup","setShowForgetPopup","showError","setShowError","showError8","setShowError8","testContext","UpdatePasswordSpecificUser","updatePasswordSpecificUserData","search","Id","URLSearchParams","get","sendData","newUser","Password","id","length","showPopup","e","target","value"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/Items/ConfirmForget.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport HeaderGame from \"../Items/HeaderGame\";\r\nimport Pass from '../../Images/password.png';\r\nimport TestContext from \"../../Context/testContext\";\r\nimport { useLocation, useParams, useNavigate } from \"react-router-dom\";\r\nimport PopupChangePass from '../Items/PopupChangePass';\r\nfunction useEffectSkipFirst(fn, arr) {\r\n  const isFirst = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirst.current) {\r\n      isFirst.current = false;\r\n      return;\r\n    }\r\n    fn();\r\n  }, arr);\r\n}\r\nconst ConfirmForget = () => {\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [confirmPasswrod, setConfirmpasswrod] = useState(null);\r\n  const [showErrorForPass, setShowErrorForPass] = useState(null);\r\n  const [showForgetPopup, setShowForgetPopup] = useState(null);\r\n  const [showError, setShowError] = useState(null);\r\n  const [showError8, setShowError8] = useState(null);\r\n  const testContext = useContext(TestContext);\r\n  const { UpdatePasswordSpecificUser, updatePasswordSpecificUserData } = testContext;\r\n  const search = useLocation().search;\r\n  let { Id } = useParams();\r\n  useEffect(() => {\r\n    const userId = new URLSearchParams(search).get(\"pc\");\r\n    setUserId(userId);   \r\n  }, []);\r\n  useEffectSkipFirst(() => {\r\n    if (updatePasswordSpecificUserData) {\r\n      navigate(\"/Login\");\r\n    }\r\n  }, [updatePasswordSpecificUserData]);\r\n  useEffectSkipFirst(() => {\r\n    if (confirmPasswrod === password) {\r\n      setShowErrorForPass(false);\r\n    } else {\r\n      setShowErrorForPass(true);\r\n    }\r\n  }, [confirmPasswrod]);\r\n\r\n  const sendData = () => {\r\n    let newUser = {};   \r\n    newUser.Password = password;\r\n    newUser.id = userId;   \r\n    if (\r\n      password\r\n    ) {\r\n      if (\r\n        userId &&\r\n        password.length > 7 &&\r\n        password === confirmPasswrod\r\n      ) {\r\n        UpdatePasswordSpecificUser(newUser);\r\n      }else {\r\n        if ( password !== confirmPasswrod  ) {\r\n         setShowErrorForPass(true);\r\n        }     \r\n        else{\r\n          setShowError8(true);\r\n        }\r\n      }\r\n    } else {\r\n      if ( password !== confirmPasswrod  ) {\r\n       setShowErrorForPass(true);\r\n      }     \r\n      else{\r\n        setShowError(true);\r\n      }\r\n    }\r\n  };\r\n  const showPopup=()=>{\r\n    setShowForgetPopup(false);\r\n  }\r\n  return (\r\n    <div className='ConfirmForget'>\r\n             {showForgetPopup? <PopupChangePass showPopup={showPopup}/>:null}\r\n        <HeaderGame/>\r\n        <div className=\"forgetBox\">\r\n            <div className=\"forgetImg\">\r\n                <img src={Pass} alt=\"Pass\" />\r\n            </div>\r\n            <div className=\"btnBox\">\r\n                <h1>Change your Password</h1>\r\n                <h4>Enter your new password</h4>\r\n                <input vlaue={password} onChange={(e)=>{\r\n                                   setShowError(false); setShowErrorForPass(false);\r\n                                   setPassword(e.target.value);}} type=\"password\" placeholder='New Password' />\r\n                <input vlaue={confirmPasswrod} onChange={(e)=>{\r\n                  setShowError(false); setShowErrorForPass(false);\r\n                  setConfirmpasswrod(e.target.value)}} type=\"password\" placeholder='Confirm Password' />\r\n                <button onClick={sendData}>CHANGE PASSWORD</button>\r\n                {\r\n              showError8?\r\n            <label className=\"labelError\">\r\n              Note: Your password should be more than 8 character\r\n            </label>:null}\r\n                {\r\n              showError?\r\n            <label className=\"labelError\">\r\n              Note: All of the inputs should have value\r\n            </label>:null}\r\n            {\r\n              showErrorForPass? <label className=\"labelError\">\r\n              Note: Your password and confirm password are not equal\r\n            </label>:null}\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ConfirmForget"],"mappings":"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"},"metadata":{},"sourceType":"module"}