{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import Search from\"../../../Images/icons8-search-24.png\";import TestContext from\"../../../Context/testContext\";import AuthContext from\"../../../Context/Auth/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var UserInfo=function UserInfo(){var testContext=useContext(TestContext);var authContext=useContext(AuthContext);var user=authContext.user,login=authContext.login,isAuthenticated=authContext.isAuthenticated,logout=authContext.logout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),showorhide=_useState2[0],setShoworhide=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),searchStr=_useState6[0],setSearchStr=_useState6[1];var allUserFalconData=testContext.allUserFalconData,GetAllUserFalcon=testContext.GetAllUserFalcon,switchBetweenUserAndPersonalInfo=testContext.switchBetweenUserAndPersonalInfo,SetSwitchUsers=testContext.SetSwitchUsers,SetPersonalInfo=testContext.SetPersonalInfo,err=testContext.err;useEffect(function(){GetAllUserFalcon();//setShoworhide(true);\n},[]);useEffectSkipFirst(function(){if(allUserFalconData){setUserData(allUserFalconData.data);//let newItem = {};\n//console.log(allUserFalconData);\n}},[allUserFalconData]);useEffectSkipFirst(function(){if(searchStr){var datainfo=userData.map(function(item){if(item.Username.toLowerCase().includes(searchStr)){return item;}else{return null;}//return item\n});datainfo=datainfo.filter(function(item){return item!=null;});setUserData(datainfo);}},[searchStr]);var SearchUser=function SearchUser(valueStr){setSearchStr(valueStr);setUserData(allUserFalconData.data);//console.log(userData);\n};return/*#__PURE__*/_jsx(_Fragment,{children:switchBetweenUserAndPersonalInfo?/*#__PURE__*/_jsx(\"div\",{className:\"UserInfo\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"SearchTitle\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Users\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"img\",{src:Search,alt:\"Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"search\",value:searchStr,onChange:function onChange(e){return SearchUser(e.target.value);}})]})]}),userData?userData?userData.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"userData\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.Username}),/*#__PURE__*/_jsx(\"a\",{id:item.id,onClick:function onClick(e){SetSwitchUsers(false);SetPersonalInfo(item);},children:\"Show / Edit\"})]});}):null:null]})}):null});};export default UserInfo;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","Search","TestContext","AuthContext","useEffectSkipFirst","fn","arr","isFirst","current","UserInfo","testContext","authContext","user","login","isAuthenticated","logout","showorhide","setShoworhide","userData","setUserData","searchStr","setSearchStr","allUserFalconData","GetAllUserFalcon","switchBetweenUserAndPersonalInfo","SetSwitchUsers","SetPersonalInfo","err","data","datainfo","map","item","Username","toLowerCase","includes","filter","SearchUser","valueStr","e","target","value","id"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/SuperAdmin.js/Items/UserInfo.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\nimport Search from \"../../../Images/icons8-search-24.png\";\nimport TestContext from \"../../../Context/testContext\";\nimport AuthContext from \"../../../Context/Auth/authContext\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n    fn();\n  }, arr);\n}\n\nconst UserInfo = () => {\n  const testContext = useContext(TestContext);\n  const authContext = useContext(AuthContext);\n  const { user, login, isAuthenticated, logout } = authContext;\n  const [showorhide, setShoworhide] = useState(null);\n  const [userData, setUserData] = useState(null);\n  const [searchStr, setSearchStr] = useState(null);\n\n  const {\n    allUserFalconData,\n    GetAllUserFalcon,\n    switchBetweenUserAndPersonalInfo,\n    SetSwitchUsers,\n    SetPersonalInfo,\n    err,\n  } = testContext;\n\n  useEffect(() => {\n    GetAllUserFalcon();\n    //setShoworhide(true);\n  }, []);\n\n  useEffectSkipFirst(() => {\n    if (allUserFalconData) {\n      setUserData(allUserFalconData.data);\n      //let newItem = {};\n      //console.log(allUserFalconData);\n    }\n  }, [allUserFalconData]);\n  useEffectSkipFirst(() => {\n    if (searchStr) {\n      let datainfo = userData.map((item) => {\n        if (item.Username.toLowerCase().includes(searchStr)) {\n          return item;\n        } else {\n          return null;\n        }\n        //return item\n      });\n      datainfo = datainfo.filter((item) => item != null);\n      setUserData(datainfo);\n    }\n  }, [searchStr]);\n  const SearchUser = (valueStr) => {\n    setSearchStr(valueStr);\n    setUserData(allUserFalconData.data);\n    //console.log(userData);\n  };\n  return (\n    <>\n      {switchBetweenUserAndPersonalInfo ? (\n        <div className=\"UserInfo\">\n          <>\n            {\" \"}\n            <div className=\"SearchTitle\">\n              <h3>Users</h3>\n              <div className=\"search\">\n                <img src={Search} alt=\"Search\" />\n                <input\n                  type=\"search\"\n                  value={searchStr}\n                  onChange={(e) => SearchUser(e.target.value)}\n                />\n              </div>\n            </div>\n            {userData\n              ? userData\n                ? userData.map((item) => {\n                    return (\n                      <div className=\"userData\">\n                        <h4>{item.Username}</h4>\n                        <a\n                          id={item.id}\n                          onClick={(e) => {\n                            SetSwitchUsers(false);\n                            SetPersonalInfo(item);\n                          }}\n                        >\n                          Show / Edit\n                        </a>\n                      </div>\n                    );\n                  })\n                : null\n              : null}\n          </>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default UserInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}