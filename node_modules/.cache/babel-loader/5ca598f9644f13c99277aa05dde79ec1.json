{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import TestContext from\"../../../Context/testContext\";import Swal from\"sweetalert2/dist/sweetalert2.js\";import\"sweetalert2/src/sweetalert2.scss\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var ActiveTpurnament=function ActiveTpurnament(){var navigate=useNavigate();useEffect(function(){GetActiveTournaments(0);},[]);var testContext=useContext(TestContext);var GetActiveTournaments=testContext.GetActiveTournaments,activeTournamentData=testContext.activeTournamentData,deletedTournamentData=testContext.deletedTournamentData,GetPreviousTournaments=testContext.GetPreviousTournaments,DeleteTournament=testContext.DeleteTournament,err=testContext.err;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),EventData=_useState2[0],setEventData=_useState2[1];useEffectSkipFirst(function(){if(deletedTournamentData){GetActiveTournaments();}},[deletedTournamentData]);var delteItem=function delteItem(itemId){Swal.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\"}).then(function(result){if(result.isConfirmed){DeleteTournament(itemId);}});};useEffectSkipFirst(function(){if(deletedTournamentData){Swal.fire({text:\" Your file has been deleted.\",icon:\"success\"}).then(function(result){});GetActiveTournaments();}},[deletedTournamentData]);var NameGameById=function NameGameById(id){switch(id){case 1:return\"WARZON\";break;case 2:return\"DOTA2\";break;default:break;}};var FreeCost=function FreeCost(value){if(value==0||!value){return\"Free\";}else{return value;}};var navigateToSpecificPage=function navigateToSpecificPage(itemData,ModeId){if(ModeId==1){navigate(\"/SoloGame/\"+itemData.id);}else if(ModeId==2){navigate(\"/TeamGame/\"+itemData.id);}};useEffectSkipFirst(function(){if(activeTournamentData){var newData=activeTournamentData.map(function(item){var newItem={};newItem.id=item.id;newItem.Title=item.Title;newItem.StartDate=item.StartDate;newItem.EndDate=item.EndDate;newItem.KDLimit=item.KDLimit;newItem.Prize=item.Prize;newItem.EntryFee=item.EntryFee;newItem.ModeId=item.ModeId;newItem.GameId=item.GameId;return newItem;});setEventData(newData);newData=newData.sort(function(a,b){return b.id-a.id;});}},[activeTournamentData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"ActiveTpurnament\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"HeadCreate\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Active Tournament\"})}),EventData.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"ActiveAdd\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.Title}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxAdd\",children:[/*#__PURE__*/_jsx(\"h6\",{children:NameGameById(item.GameId)}),/*#__PURE__*/_jsxs(\"h6\",{className:\"larghx\",children:[item.StartDate,\" - \",item.EndDate]}),/*#__PURE__*/_jsx(\"h6\",{className:\"largh\",children:item.KDLimit}),/*#__PURE__*/_jsxs(\"h6\",{children:[item.Prize,\"$\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[item.EntryFee?item.EntryFee:FreeCost(item.EntryFee),\" FLC\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonsDiv\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){navigateToSpecificPage(item,item.ModeId);// console.log(\"ModeId:\", item.ModeId);\n},children:\"Manage\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){delteItem({Id:item.id});},children:\"Remove\"})]})]})]},item.id);})]});};export default ActiveTpurnament;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","TestContext","Swal","useNavigate","useEffectSkipFirst","fn","arr","isFirst","current","ActiveTpurnament","navigate","GetActiveTournaments","testContext","activeTournamentData","deletedTournamentData","GetPreviousTournaments","DeleteTournament","err","EventData","setEventData","delteItem","itemId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","then","result","isConfirmed","NameGameById","id","FreeCost","value","navigateToSpecificPage","itemData","ModeId","newData","map","item","newItem","Title","StartDate","EndDate","KDLimit","Prize","EntryFee","GameId","sort","a","b","e","Id"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/SuperAdmin.js/Items/ActiveTpurnament.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\nimport TestContext from \"../../../Context/testContext\";\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\nimport \"sweetalert2/src/sweetalert2.scss\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n    fn();\n  }, arr);\n}\nconst ActiveTpurnament = () => {\n  const navigate = useNavigate();\n  useEffect(() => {\n    GetActiveTournaments(0);\n  }, []);\n  const testContext = useContext(TestContext);\n  const {\n    GetActiveTournaments,\n    activeTournamentData,\n    deletedTournamentData,\n    GetPreviousTournaments,\n    DeleteTournament,\n    err,\n  } = testContext;\n  const [EventData, setEventData] = useState([]);\n\n  useEffectSkipFirst(() => {\n    if (deletedTournamentData) {\n      GetActiveTournaments();\n    }\n  }, [deletedTournamentData]);\n\n  const delteItem = (itemId) => {\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        DeleteTournament(itemId);\n      }\n    });\n  };\n\n  useEffectSkipFirst(() => {\n    if (deletedTournamentData) {\n      Swal.fire({\n        text: \" Your file has been deleted.\",\n        icon: \"success\",\n      }).then((result) => {});\n      GetActiveTournaments();\n    }\n  }, [deletedTournamentData]);\n\n  const NameGameById = (id) => {\n    switch (id) {\n      case 1:\n        return \"WARZON\";\n        break;\n      case 2:\n        return \"DOTA2\";\n        break;\n\n      default:\n        break;\n    }\n  };\n  const FreeCost = (value) => {\n    if (value == 0 || !value) {\n      return \"Free\";\n    } else {\n      return value;\n    }\n  };\n  const navigateToSpecificPage = (itemData, ModeId) => {\n    if (ModeId == 1) {\n      navigate(\"/SoloGame/\" + itemData.id);\n    } else if (ModeId == 2) {\n      navigate(\"/TeamGame/\" + itemData.id);\n    }\n  };\n\n  useEffectSkipFirst(() => {\n    if (activeTournamentData) {\n      let newData = activeTournamentData.map((item) => {\n        let newItem = {};\n        newItem.id = item.id;\n        newItem.Title = item.Title;\n        newItem.StartDate = item.StartDate;\n        newItem.EndDate = item.EndDate;\n        newItem.KDLimit = item.KDLimit;\n        newItem.Prize = item.Prize;\n        newItem.EntryFee = item.EntryFee;\n        newItem.ModeId = item.ModeId;\n        newItem.GameId = item.GameId;\n\n        return newItem;\n      });\n      setEventData(newData);\n      newData = newData.sort((a, b) => b.id - a.id);\n    }\n  }, [activeTournamentData]);\n\n  return (\n    <div className=\"ActiveTpurnament\">\n      <div className=\"HeadCreate\">\n        <h4>Active Tournament</h4>\n      </div>\n      {EventData.map((item) => (\n        <div key={item.id} className=\"ActiveAdd\">\n          <h5>{item.Title}</h5>\n          <div className=\"boxAdd\">\n            <h6>{NameGameById(item.GameId)}</h6>\n            <h6 className=\"larghx\">\n              {item.StartDate} - {item.EndDate}\n            </h6>\n            <h6 className=\"largh\">{item.KDLimit}</h6>\n\n            <h6>{item.Prize}$</h6>\n            <h6>\n              {item.EntryFee ? item.EntryFee : FreeCost(item.EntryFee)} FLC\n            </h6>\n            <div className=\"buttonsDiv\">\n              <button\n                onClick={(e) => {\n                  navigateToSpecificPage(item, item.ModeId);\n                  // console.log(\"ModeId:\", item.ModeId);\n                }}\n              >\n                Manage\n              </button>\n              <button\n                onClick={(e) => {\n                  delteItem({ Id: item.id });\n                }}\n              >\n                Remove\n              </button>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ActiveTpurnament;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}