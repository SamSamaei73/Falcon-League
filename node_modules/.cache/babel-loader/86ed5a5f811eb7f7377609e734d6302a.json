{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import HeaderGame from\"../Items/HeaderGame\";import Pass from'../../Images/password.png';import ForgetPopup from'./ForgetPopup';import TestContext from\"../../Context/testContext\";import AuthContext from\"../../Context/Auth/authContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var isEmail=function isEmail(email){return /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email);};var ForgetPass=function ForgetPass(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),showForgetPopup=_useState4[0],setShowForgetPopup=_useState4[1];var testContext=useContext(TestContext);var SendEmailForChangePassword=testContext.SendEmailForChangePassword,sendEmailForChangePasswordData=testContext.sendEmailForChangePasswordData;var sendRecoveryEmail=function sendRecoveryEmail(){if(isEmail(email)){var emailData={};emailData.Email=email;SendEmailForChangePassword(emailData);}};useEffectSkipFirst(function(){if(sendEmailForChangePasswordData){if(sendEmailForChangePasswordData.id){setShowForgetPopup(true);}else{}}},[sendEmailForChangePasswordData]);var showPopup=function showPopup(){setShowForgetPopup(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ForgetPass\",children:[showForgetPopup?/*#__PURE__*/_jsx(ForgetPopup,{showPopup:showPopup}):null,/*#__PURE__*/_jsx(HeaderGame,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgetBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"forgetImg\",children:/*#__PURE__*/_jsx(\"img\",{src:Pass,alt:\"Pass\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnBox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Recover Password\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Enter your Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendRecoveryEmail,children:\"SEND RECOVER LINK\"})]})]})]});};export default ForgetPass;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","HeaderGame","Pass","ForgetPopup","TestContext","AuthContext","useEffectSkipFirst","fn","arr","isFirst","current","isEmail","email","test","ForgetPass","setEmail","showForgetPopup","setShowForgetPopup","testContext","SendEmailForChangePassword","sendEmailForChangePasswordData","sendRecoveryEmail","emailData","Email","id","showPopup","e","target","value"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/Items/ForgetPass.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport HeaderGame from \"../Items/HeaderGame\";\r\nimport Pass from '../../Images/password.png';\r\nimport ForgetPopup from './ForgetPopup';\r\nimport TestContext from \"../../Context/testContext\";\r\nimport AuthContext from \"../../Context/Auth/authContext\";\r\n\r\n\r\nfunction useEffectSkipFirst(fn, arr) {\r\n  const isFirst = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirst.current) {\r\n      isFirst.current = false;\r\n      return;\r\n    }\r\n    fn();\r\n  }, arr);\r\n}\r\nconst isEmail = (email) =>\r\n/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email);\r\nconst ForgetPass = () => {\r\n  const [email, setEmail] = useState(null);\r\n  const [showForgetPopup, setShowForgetPopup] = useState(null);\r\n  const testContext = useContext(TestContext);\r\n  const {\r\n    SendEmailForChangePassword,\r\n    sendEmailForChangePasswordData,\r\n  } = testContext;\r\n  const sendRecoveryEmail = () => {\r\n    if (isEmail(email)) {\r\n      let emailData = {};\r\n      emailData.Email = email;\r\n      SendEmailForChangePassword(emailData);\r\n    }\r\n  }\r\n  useEffectSkipFirst(() => {\r\n    if (sendEmailForChangePasswordData) {\r\n      if(sendEmailForChangePasswordData.id){\r\nsetShowForgetPopup(true);\r\n      }else{\r\n\r\n      }\r\n    }\r\n  }, [sendEmailForChangePasswordData]);\r\n  const showPopup=()=>{\r\n    setShowForgetPopup(false);\r\n  }\r\n  return (\r\n    <div className='ForgetPass'>\r\n       {showForgetPopup? <ForgetPopup showPopup={showPopup}/>:null}\r\n        <HeaderGame/>\r\n        <div className=\"forgetBox\">\r\n            <div className=\"forgetImg\">\r\n                <img src={Pass} alt=\"Pass\" />\r\n            </div>\r\n            <div className=\"btnBox\">\r\n                <h1>Recover Password</h1>\r\n                <h4>Enter your Email</h4>\r\n                <input type=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)} />\r\n                <button onClick={sendRecoveryEmail}>SEND RECOVER LINK</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgetPass"],"mappings":"gIAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,MAA5B,CAAoCC,SAApC,CAA+CC,QAA/C,KAA+D,OAA/D,CACA,MAAOC,WAAP,KAAuB,qBAAvB,CACA,MAAOC,KAAP,KAAiB,2BAAjB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,YAAP,KAAwB,2BAAxB,CACA,MAAOC,YAAP,KAAwB,gCAAxB,C,wFAGA,QAASC,mBAAT,CAA4BC,EAA5B,CAAgCC,GAAhC,CAAqC,CACnC,GAAMC,QAAO,CAAGX,MAAM,CAAC,IAAD,CAAtB,CACAC,SAAS,CAAC,UAAM,CACd,GAAIU,OAAO,CAACC,OAAZ,CAAqB,CACnBD,OAAO,CAACC,OAAR,CAAkB,KAAlB,CACA,OACD,CACDH,EAAE,GACH,CANQ,CAMNC,GANM,CAAT,CAOD,CACD,GAAMG,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,QAChB,6CAA4CC,IAA5C,CAAiDD,KAAjD,CADgB,EAAhB,CAEA,GAAME,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,cAA0Bd,QAAQ,CAAC,IAAD,CAAlC,wCAAOY,KAAP,eAAcG,QAAd,eACA,eAA8Cf,QAAQ,CAAC,IAAD,CAAtD,yCAAOgB,eAAP,eAAwBC,kBAAxB,eACA,GAAMC,YAAW,CAAGrB,UAAU,CAACO,WAAD,CAA9B,CACA,GACEe,2BADF,CAGID,WAHJ,CACEC,0BADF,CAEEC,8BAFF,CAGIF,WAHJ,CAEEE,8BAFF,CAIA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAIV,OAAO,CAACC,KAAD,CAAX,CAAoB,CAClB,GAAIU,UAAS,CAAG,EAAhB,CACAA,SAAS,CAACC,KAAV,CAAkBX,KAAlB,CACAO,0BAA0B,CAACG,SAAD,CAA1B,CACD,CACF,CAND,CAOAhB,kBAAkB,CAAC,UAAM,CACvB,GAAIc,8BAAJ,CAAoC,CAClC,GAAGA,8BAA8B,CAACI,EAAlC,CAAqC,CAC3CP,kBAAkB,CAAC,IAAD,CAAlB,CACO,CAFD,IAEK,CAEJ,CACF,CACF,CARiB,CAQf,CAACG,8BAAD,CARe,CAAlB,CASA,GAAMK,UAAS,CAAC,QAAVA,UAAU,EAAI,CAClBR,kBAAkB,CAAC,KAAD,CAAlB,CACD,CAFD,CAGA,mBACE,aAAK,SAAS,CAAC,YAAf,WACID,eAAe,cAAE,KAAC,WAAD,EAAa,SAAS,CAAES,SAAxB,EAAF,CAAuC,IAD1D,cAEI,KAAC,UAAD,IAFJ,cAGI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,GAAG,CAAEvB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,QAAf,wBACI,wCADJ,cAEI,wCAFJ,cAGI,cAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAEU,KAA3B,CAAkC,QAAQ,CAAE,kBAACc,CAAD,QAAKX,SAAQ,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAA5C,EAHJ,cAII,eAAQ,OAAO,CAAEP,iBAAjB,+BAJJ,GAJJ,GAHJ,GADF,CAkBD,CA7CD,CA+CA,cAAeP,WAAf"},"metadata":{},"sourceType":"module"}