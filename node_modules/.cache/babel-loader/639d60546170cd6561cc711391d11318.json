{"ast":null,"code":"var _jsxFileName = \"/Users/samsamaei/Documents/Projects/falcon/src/Components/UserEdit/Items/Location.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useRef, useEffect, useState } from \"react\";\nimport TestContext from \"../../../Context/testContext\";\nimport AuthContext from \"../../../Context/Auth/authContext\";\nimport Swal from \"sweetalert2\";\nimport \"sweetalert2/src/sweetalert2.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  _s();\n\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n\n    fn();\n  }, arr);\n}\n\n_s(useEffectSkipFirst, \"x0DIufxRLPW/5DynbDxfl2fdtNU=\");\n\nconst Location = () => {\n  _s2();\n\n  const testContext = useContext(TestContext);\n  const [country, setCountry] = useState(null);\n  const authContext = useContext(AuthContext);\n  const {\n    user,\n    login,\n    isAuthenticated,\n    logout\n  } = authContext;\n  const {\n    GetCountries,\n    countriesData,\n    userInfoData,\n    GetUserInfo,\n    updateUserData,\n    UpdateUserLocation,\n    SetUserlocation,\n    updateUserLocationData\n  } = testContext;\n  const [DataUser, setDataUser] = useState(null);\n  const [CountryId, setCountryId] = useState(null);\n  const [City, setCity] = useState(null);\n  const [showMessage, setShowMessage] = useState(null);\n  useEffect(() => {\n    GetCountries();\n    GetUserInfo();\n  }, []);\n  useEffectSkipFirst(() => {\n    if (userInfoData) {\n      let newItem = {};\n      setCountryId(userInfoData.CountryId);\n      setCity(userInfoData.City); // return newItem;\n\n      setDataUser(newItem);\n    }\n  }, [userInfoData]);\n\n  const sendUserData = () => {\n    let newUser = {};\n    newUser.CountryId = parseInt(CountryId);\n    newUser.City = City;\n    UpdateUserInfo(newUser);\n  };\n\n  useEffectSkipFirst(() => {\n    if (updateUserLocationData) {\n      {\n        setShowMessage(true);\n        SetUserlocation(null);\n      }\n    }\n  }, [updateUserLocationData]);\n  useEffectSkipFirst(() => {\n    if (showMessage) {\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"Your Location has been Updated\",\n        showConfirmButton: false,\n        timer: 1500\n      });\n      setShowMessage(false);\n    }\n  }, [showMessage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Setiings\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Title\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Your Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"PersonalEdit\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: CountryId,\n          onChange: e => {\n            setCountryId(e.target.value);\n          },\n          children: countriesData ? countriesData.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.id,\n              children: item.Country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 26\n            }, this);\n          }) : []\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"Text\",\n          value: City,\n          onChange: e => {\n            setCity(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemEtra\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            sendUserData();\n          },\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Location, \"ZqwX5tQRyETnzDoDppU/c/Q1umQ=\", false, function () {\n  return [useEffectSkipFirst, useEffectSkipFirst, useEffectSkipFirst];\n});\n\n_c = Location;\nexport default Location;\n\nvar _c;\n\n$RefreshReg$(_c, \"Location\");","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","TestContext","AuthContext","Swal","useEffectSkipFirst","fn","arr","isFirst","current","Location","testContext","country","setCountry","authContext","user","login","isAuthenticated","logout","GetCountries","countriesData","userInfoData","GetUserInfo","updateUserData","UpdateUserLocation","SetUserlocation","updateUserLocationData","DataUser","setDataUser","CountryId","setCountryId","City","setCity","showMessage","setShowMessage","newItem","sendUserData","newUser","parseInt","UpdateUserInfo","fire","position","icon","title","showConfirmButton","timer","e","target","value","map","item","id","Country"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/UserEdit/Items/Location.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\nimport TestContext from \"../../../Context/testContext\";\nimport AuthContext from \"../../../Context/Auth/authContext\";\nimport Swal from \"sweetalert2\";\nimport \"sweetalert2/src/sweetalert2.scss\";\n\nfunction useEffectSkipFirst(fn, arr) {\n  const isFirst = useRef(true);\n  useEffect(() => {\n    if (isFirst.current) {\n      isFirst.current = false;\n      return;\n    }\n    fn();\n  }, arr);\n}\n\nconst Location = () => {\n  const testContext = useContext(TestContext);\n  const [country, setCountry] = useState(null);\n  const authContext = useContext(AuthContext);\n  const { user, login, isAuthenticated, logout } = authContext;\n\n  const {\n    GetCountries,\n    countriesData,\n    userInfoData,\n    GetUserInfo,\n    updateUserData,\n    UpdateUserLocation,\n    SetUserlocation,\n    updateUserLocationData,\n  } = testContext;\n\n  const [DataUser, setDataUser] = useState(null);\n  const [CountryId, setCountryId] = useState(null);\n  const [City, setCity] = useState(null);\n  const [showMessage, setShowMessage] = useState(null);\n\n  useEffect(() => {\n    GetCountries();\n    GetUserInfo();\n  }, []);\n\n  useEffectSkipFirst(() => {\n    if (userInfoData) {\n      let newItem = {};\n      setCountryId(userInfoData.CountryId);\n      setCity(userInfoData.City);\n\n      // return newItem;\n      setDataUser(newItem);\n    }\n  }, [userInfoData]);\n\n  const sendUserData = () => {\n    let newUser = {};\n    newUser.CountryId = parseInt(CountryId);\n    newUser.City = City;\n\n    UpdateUserInfo(newUser);\n  };\n  useEffectSkipFirst(() => {\n    if (updateUserLocationData) {\n      {\n        setShowMessage(true);\n        SetUserlocation(null);\n      }\n    }\n  }, [updateUserLocationData]);\n\n  useEffectSkipFirst(() => {\n    if (showMessage) {\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"Your Location has been Updated\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      setShowMessage(false);\n    }\n  }, [showMessage]);\n\n  return (\n    <div className=\"Setiings\">\n      <div className=\"Title\">\n        <h4>Your Location</h4>\n      </div>\n      <div className=\"PersonalEdit\">\n        <div className=\"item\">\n          <h5>Country</h5>\n          <select\n            value={CountryId}\n            onChange={(e) => {\n              setCountryId(e.target.value);\n            }}\n          >\n            {countriesData\n              ? countriesData.map((item) => {\n                  return <option value={item.id}>{item.Country}</option>;\n                })\n              : []}\n          </select>\n        </div>\n        <div className=\"item\">\n          <h5>City</h5>\n          <input\n            type=\"Text\"\n            value={City}\n            onChange={(e) => {\n              setCity(e.target.value);\n            }}\n          />\n        </div>\n        <div className=\"itemEtra\">\n          <button\n            onClick={(e) => {\n              sendUserData();\n            }}\n          >\n            Save Changes\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Location;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}