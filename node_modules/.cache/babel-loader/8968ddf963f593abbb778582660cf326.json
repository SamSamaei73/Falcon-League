{"ast":null,"code":"import _slicedToArray from\"/Users/samsamaei/Documents/Projects/falcon/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useEffect,useState}from\"react\";import TestContext from\"../../Context/testContext\";import AuthContext from\"../../Context/Auth/authContext\";import\"../../Scss/Firstpage.scss\";import Coin from\"../../Images/coins.png\";import{NavLink}from\"react-router-dom\";import Swal from\"sweetalert2\";import\"sweetalert2/src/sweetalert2.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useEffectSkipFirst(fn,arr){var isFirst=useRef(true);useEffect(function(){if(isFirst.current){isFirst.current=false;return;}fn();},arr);}var BoxIvonet=function BoxIvonet(_ref){var gameId=_ref.gameId;var testContext=useContext(TestContext);var authContext=useContext(AuthContext);var user=authContext.user,login=authContext.login,isAuthenticated=authContext.isAuthenticated,logout=authContext.logout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),IdGame=_useState2[0],setIdGame=_useState2[1];var GetActiveTournaments=testContext.GetActiveTournaments,activeTournamentData=testContext.activeTournamentData,registerGameUserData=testContext.registerGameUserData,RegisterUserForGame=testContext.RegisterUserForGame,err=testContext.err;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),gameUserdata=_useState4[0],setgameUserdata=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),GameId=_useState6[0],setGameId=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),TournamentId=_useState8[0],setTournamentId=_useState8[1];useEffect(function(){setIdGame(gameId);GetActiveTournaments(gameId);},[]);useEffectSkipFirst(function(){if(gameId){GetActiveTournaments(gameId);}},[gameId]);useEffectSkipFirst(function(){if(registerGameUserData){if(registerGameUserData.userError){Swal.fire(\"you dont have userId\",\"you must Add your Game id in My profile page\",\"warning\");}else Swal.fire({position:\"center\",icon:\"success\",title:\"Your game has been pushed\",timer:2000});console.log(\"why\");}},[registerGameUserData]);var SendInfo=function SendInfo(id){var gameData={};gameData.GameId=gameId;gameData.TournamentId=parseInt(id);RegisterUserForGame(gameData);};return/*#__PURE__*/_jsx(\"div\",{className:\"ItemMatch\",children:activeTournamentData?activeTournamentData.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{id:\"BoxIvonet\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titleIvonet\",children:/*#__PURE__*/_jsx(\"h4\",{children:item.Title})}),/*#__PURE__*/_jsx(\"div\",{className:\"itemMatch\",children:/*#__PURE__*/_jsxs(\"label\",{children:[\" \",item.StartDate,\" - \",item.EndDate]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemMatch\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"PRIZE\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"primary\",children:[item.EntryFee,\"$\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemMatch\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"SCORING\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"primary\",children:[\"BEST OF \",item.Winning,\" GAME\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemMatch\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"DIVISIONS\"}),/*#__PURE__*/_jsx(\"label\",{className:\"primary\",children:item.KDLimit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"itemMatch\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"priceCoin\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"coinImg\",children:/*#__PURE__*/_jsx(\"img\",{src:Coin,alt:\"Coin\"})}),/*#__PURE__*/_jsx(\"label\",{children:item.Prize})]}),user?/*#__PURE__*/_jsxs(\"button\",{id:item.id,onClick:function onClick(e){SendInfo(e.target.id);},children:[\" \",\"REGISTER\"]}):/*#__PURE__*/_jsx(NavLink,{to:\"/Login\",children:/*#__PURE__*/_jsx(\"button\",{children:\" REGISTER\"})})]})]},item.id);}):null});};export default BoxIvonet;","map":{"version":3,"names":["React","useContext","useRef","useEffect","useState","TestContext","AuthContext","Coin","NavLink","Swal","useEffectSkipFirst","fn","arr","isFirst","current","BoxIvonet","gameId","testContext","authContext","user","login","isAuthenticated","logout","IdGame","setIdGame","GetActiveTournaments","activeTournamentData","registerGameUserData","RegisterUserForGame","err","gameUserdata","setgameUserdata","GameId","setGameId","TournamentId","setTournamentId","userError","fire","position","icon","title","timer","console","log","SendInfo","id","gameData","parseInt","map","item","Title","StartDate","EndDate","EntryFee","Winning","KDLimit","Prize","e","target"],"sources":["/Users/samsamaei/Documents/Projects/falcon/src/Components/Firstpage/BoxIvonet.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, useState } from \"react\";\r\nimport TestContext from \"../../Context/testContext\";\r\nimport AuthContext from \"../../Context/Auth/authContext\";\r\nimport \"../../Scss/Firstpage.scss\";\r\nimport Coin from \"../../Images/coins.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"sweetalert2/src/sweetalert2.scss\";\r\n\r\nfunction useEffectSkipFirst(fn, arr) {\r\n  const isFirst = useRef(true);\r\n  useEffect(() => {\r\n    if (isFirst.current) {\r\n      isFirst.current = false;\r\n      return;\r\n    }\r\n    fn();\r\n  }, arr);\r\n}\r\n\r\nconst BoxIvonet = ({ gameId }) => {\r\n  const testContext = useContext(TestContext);\r\n  const authContext = useContext(AuthContext);\r\n  const { user, login, isAuthenticated, logout } = authContext;\r\n\r\n  const [IdGame, setIdGame] = useState(null);\r\n  const {\r\n    GetActiveTournaments,\r\n    activeTournamentData,\r\n    registerGameUserData,\r\n    RegisterUserForGame,\r\n    err,\r\n  } = testContext;\r\n  const [gameUserdata, setgameUserdata] = useState(null);\r\n  const [GameId, setGameId] = useState(null);\r\n  const [TournamentId, setTournamentId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIdGame(gameId);\r\n    GetActiveTournaments(gameId);\r\n  }, []);\r\n\r\n  useEffectSkipFirst(() => {\r\n    if (gameId) {\r\n      GetActiveTournaments(gameId);\r\n    }\r\n  }, [gameId]);\r\n\r\n  useEffectSkipFirst(() => {\r\n    if (registerGameUserData) {\r\n      if (registerGameUserData.userError) {\r\n        Swal.fire(\r\n          \"you dont have userId\",\r\n          \"you must Add your Game id in My profile page\",\r\n          \"warning\"\r\n        );\r\n      } else\r\n        Swal.fire({\r\n          position: \"center\",\r\n          icon: \"success\",\r\n          title: \"Your game has been pushed\",\r\n          timer: 2000,\r\n        });\r\n\r\n      console.log(\"why\");\r\n    }\r\n  }, [registerGameUserData]);\r\n\r\n  const SendInfo = (id) => {\r\n    let gameData = {};\r\n    gameData.GameId = gameId;\r\n    gameData.TournamentId = parseInt(id);\r\n\r\n    RegisterUserForGame(gameData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ItemMatch\">\r\n      {activeTournamentData\r\n        ? activeTournamentData.map((item) => (\r\n            <div id=\"BoxIvonet\" key={item.id}>\r\n              <div className=\"titleIvonet\">\r\n                <h4>{item.Title}</h4>\r\n              </div>\r\n              <div className=\"itemMatch\">\r\n                <label>\r\n                  {\" \"}\r\n                  {item.StartDate} - {item.EndDate}\r\n                </label>\r\n              </div>\r\n              <div className=\"itemMatch\">\r\n                <label>PRIZE</label>\r\n                <label className=\"primary\">{item.EntryFee}$</label>\r\n              </div>\r\n              <div className=\"itemMatch\">\r\n                <label>SCORING</label>\r\n                <label className=\"primary\">BEST OF {item.Winning} GAME</label>\r\n              </div>\r\n              <div className=\"itemMatch\">\r\n                <label>DIVISIONS</label>\r\n                <label className=\"primary\">{item.KDLimit}</label>\r\n              </div>\r\n              <div className=\"itemMatch\">\r\n                <div className=\"priceCoin\">\r\n                  <div className=\"coinImg\">\r\n                    <img src={Coin} alt=\"Coin\" />\r\n                  </div>\r\n                  <label>{item.Prize}</label>\r\n                </div>\r\n                {user ? (\r\n                  <button\r\n                    id={item.id}\r\n                    onClick={(e) => {\r\n                      SendInfo(e.target.id);\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    REGISTER\r\n                  </button>\r\n                ) : (\r\n                  <NavLink to=\"/Login\">\r\n                    <button> REGISTER</button>\r\n                  </NavLink>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BoxIvonet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}